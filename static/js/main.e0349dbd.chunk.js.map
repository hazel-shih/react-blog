{"version":3,"sources":["components/ReadMoreButton/index.jsx","components/PostInfo/index.jsx","components/PostTitle/index.jsx","components/EditButton/index.jsx","components/Post/index.jsx","components/SectionTitle/index.jsx","WebAPI.js","components/SectionWrapper/index.jsx","Pagination/PagesContainer/index.jsx","Pagination/Page/index.jsx","components/Loading/loading.jsx","components/Footer/index.jsx","utils.js","pages/Homepage/index.jsx","constants.js","context.js","pages/LoginPage/index.jsx","img/hazel.jpg","pages/AboutPage/index.jsx","pages/RegisterPage/index.jsx","pages/ListPage/index.jsx","pages/PostPage/index.jsx","pages/WritePage/index.jsx","components/Header/index.jsx","components/Banner/index.jsx","pages/EditPage/index.jsx","components/App/index.jsx","index.js"],"names":["Button","styled","button","ReadMoreButton","children","PostInfoContainer","div","PostInfoCategory","PostInfoAuthor","p","PostInfoTime","PostInfo","category","author","createdAt","PostTitle","h1","EditButton","PostContainer","PostImgContainer","PostImg","img","PostPartContainer","PostContent","Post","imgSrc","title","preText","linkPath","edit","src","as","Link","to","SectionTitleContainer","SectionTitleSquare","SectionTitleLine","SectionTitle","BASE_URL","getOnePost","id","fetch","then","res","json","getMe","token","localStorage","getItem","headers","authorization","SectionWrapper","section","PagesContainer","Page","Loading","StyledFooter","footer","Footer","Date","getFullYear","getPreText","body","length","slice","HomePage","pageNum","useParams","pathname","useLocation","useState","showPosts","setShowPosts","isLoadingPosts","setIsLoadingPosts","totalPostCount","useRef","useEffect","perPage","page","url","query","_sort","_order","_limit","_page","queryString","key","push","encodeURIComponent","join","getPosts","current","get","posts","window","scrollTo","map","post","userId","toString","toLocaleString","Array","Math","ceil","fill","item","index","style","Number","background","color","nanoid","AuthContext","createContext","GetUserContext","LoginWrapper","LoginContainer","form","LoginTitle","LoginInputContainer","LoginLabel","label","LoginInput","input","LoginBtn","AlertMsg","LoginPage","username","setUsername","password","setPassword","errorMsg","setErrorMsg","isLoading","setIsloading","setUser","useContext","history","useHistory","onSubmit","e","preventDefault","method","JSON","stringify","login","data","ok","message","setItem","htmlFor","onChange","target","value","type","AboutMeWrapper","AboutMeContainer","Avatar","hazel","TalkBubble","AboutPage","imgUrl","RegisterWrapper","RegisterContainer","RegisterTitle","RegisterInputContainer","RegisterLabel","RegisterInput","RegisterBtn","RegisterPage","nickname","setNickname","register","ListPageWrapper","ListPage","user","isGettingUser","alert","getMyPosts","PostWrapper","PostTitleInPostPage","PostContentInPostPage","PostPage","setPost","EditWrapper","EditContainer","EditTitle","EditForm","EditInputBlock","EditInput","EditTextArea","textarea","EditSubmitBtn","WritePage","errMsg","setErrMsg","setIsLoading","handleChange","name","placeholder","onClick","publishPost","HeaderContainer","header","NavBarPartContainer","Logo","NavBarLink","isNowPathStyle","borderBottom","Header","nowPath","setNowPath","location","BannerContainer","BannerInfoContainer","BannerTitle","BannerSubTitle","Banner","EditPage","previousPost","defaultValue","now","editPost","App","setIsGettingUser","Provider","basename","process","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e0349dbd.chunk.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Button = styled.button`\n  background: #fef24c;\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  font-weight: bold;\n  padding: 6px 0px;\n  border: solid 1px #222831;\n  font-size: 14px;\n  cursor: pointer;\n  width: 80px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:hover {\n    background: #faf6b1;\n  }\n`;\n\nfunction ReadMoreButton() {\n  return <Button children=\"閱讀更多\" />;\n}\n\nexport default ReadMoreButton;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst PostInfoContainer = styled.div`\n  display: flex;\n  margin-top: 8px;\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  font-size: 12px;\n  align-items: center;\n`;\n\nconst PostInfoCategory = styled.div`\n  padding: 2px 6px;\n  color: white;\n  background-color: #222831;\n  margin-right: 10px;\n  vertical-align: middle;\n`;\n\nconst PostInfoAuthor = styled.p`\n  margin-right: 10px;\n  font-weight: bold;\n`;\n\nconst PostInfoTime = styled.p`\n  color: #818285;\n`;\n\nfunction PostInfo({ category, author, createdAt }) {\n  return (\n    <PostInfoContainer>\n      <PostInfoCategory>{category}</PostInfoCategory>\n      <PostInfoAuthor>{author}</PostInfoAuthor>\n      <PostInfoTime>{createdAt}</PostInfoTime>\n    </PostInfoContainer>\n  );\n}\n\nexport default PostInfo;\n","import styled from \"styled-components\";\n\nconst PostTitle = styled.h1`\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  font-weight: bold;\n  font-size: 25px;\n  text-decoration: none;\n  line-height: 28px;\n  word-break: break-word;\n  display: contents;\n`;\n\nexport default PostTitle;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Button = styled.button`\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  font-weight: bold;\n  padding: 6px 0px;\n  border: solid 1px #222831;\n  font-size: 14px;\n  cursor: pointer;\n  width: 80px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #92c4dc;\n  &:hover {\n    background: #79a0b7;\n  }\n`;\n\nfunction EditButton() {\n  return <Button children=\"編輯文章\" />;\n}\n\nexport default EditButton;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport ReadMoreButton from \"../ReadMoreButton\";\nimport { Link } from \"react-router-dom\";\nimport PostInfo from \"../PostInfo\";\nimport PostTitle from \"../PostTitle\";\nimport EditButton from \"../EditButton\";\n\nconst PostContainer = styled.div`\n  width: 100%;\n  display: flex;\n  position: relative;\n  margin-top: 50px;\n  height: auto;\n`;\n\nconst PostImgContainer = styled.div`\n  max-width: 350px;\n  height: auto;\n`;\n\nconst PostImg = styled.img`\n  width: 100%;\n  height: auto;\n`;\n\nconst PostPartContainer = styled.div`\n  width: 60%;\n  margin-left: 20px;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n`;\n\nconst PostContent = styled.div`\n  color: #818285;\n  margin-top: 9px;\n  font-family: \"Noto Sans TC\", sans-serif;\n  font-weight: lighter;\n  font-size: 16px;\n  line-height: 24px;\n  overflow: hidden;\n  height: auto;\n  margin-bottom: 15px;\n  word-break: break-all;\n`;\n\nfunction Post({\n  imgSrc,\n  title,\n  category,\n  author,\n  createdAt,\n  preText,\n  linkPath,\n  edit,\n}) {\n  return (\n    <PostContainer>\n      <PostImgContainer>\n        <PostImg src={imgSrc} />\n      </PostImgContainer>\n      <PostPartContainer>\n        <PostTitle as={Link} to={`/post/${linkPath}`} children={title} />\n        <PostInfo category={category} author={author} createdAt={createdAt} />\n        <PostContent children={preText} />\n        {edit ? (\n          <Link to={`/edit/${linkPath}`}>\n            <EditButton />\n          </Link>\n        ) : (\n          <Link to={`/post/${linkPath}`}>\n            <ReadMoreButton />\n          </Link>\n        )}\n      </PostPartContainer>\n    </PostContainer>\n  );\n}\n\nPost.propTypes = {\n  imgSrc: PropTypes.string,\n  title: PropTypes.string,\n  category: PropTypes.string,\n  author: PropTypes.string,\n  createdAt: PropTypes.string,\n  content: PropTypes.string,\n  edit: PropTypes.bool,\n};\n\nexport default Post;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst SectionTitleContainer = styled.div`\n  position: relative;\n  margin-bottom: 40px;\n`;\n\nconst SectionTitleSquare = styled.div`\n  display: inline-block;\n  padding: 5px 10px;\n  background: #222831;\n  color: white;\n  font-family: \"Noto Sans TC\", sans-serif;\n`;\n\nconst SectionTitleLine = styled.div`\n  width: 100%;\n  height: 1px;\n  background: #222831;\n  position: absolute;\n  bottom: 0;\n`;\n\nfunction SectionTitle({ title }) {\n  return (\n    <SectionTitleContainer>\n      <SectionTitleSquare>{title}</SectionTitleSquare>\n      <SectionTitleLine />\n    </SectionTitleContainer>\n  );\n}\n\nexport default SectionTitle;\n","const BASE_URL = \"https://student-json-api.lidemy.me\";\n\nexport const getPosts = (perPage, page) => {\n  let url = BASE_URL + \"/posts?\";\n  let query = {\n    _sort: \"createdAt\",\n    _order: \"desc\",\n    _limit: perPage,\n    _page: page,\n  };\n  let queryString = [];\n  for (let key in query) {\n    queryString.push(`${key}=${encodeURIComponent(query[key])}`);\n  }\n  url += queryString.join(\"&\");\n  return fetch(url);\n};\n\nexport const getMyPosts = (userId, perPage, page) => {\n  let url = BASE_URL + \"/posts?\";\n  let query = {\n    _sort: \"createdAt\",\n    userId,\n    _order: \"desc\",\n    _limit: perPage,\n    _page: page,\n  };\n  let queryString = [];\n  for (let key in query) {\n    queryString.push(`${key}=${encodeURIComponent(query[key])}`);\n  }\n  url += queryString.join(\"&\");\n  return fetch(url);\n};\n\nexport const getOnePost = (id) => {\n  return fetch(`${BASE_URL}/posts?id=${id}`).then((res) => res.json());\n};\n\nexport const register = (nickname, username, password) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const login = (username, password) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getMe = () => {\n  const token = localStorage.getItem(\"token\");\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const publishPost = (title, body) => {\n  const token = localStorage.getItem(\"token\");\n  return fetch(`${BASE_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const editPost = (id, title, body) => {\n  const token = localStorage.getItem(\"token\");\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: \"PATCH\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      body,\n      createdAt: Date.now(),\n    }),\n  }).then((res) => res.json());\n};\n","import styled from \"styled-components\";\n\nconst SectionWrapper = styled.section`\n  padding: 40px 100px;\n  width: 100%;\n`;\n\nexport default SectionWrapper;\n","import styled from \"styled-components\";\n\nconst PagesContainer = styled.div`\n  padding: 0 200px;\n  font-size: 20px;\n  display: flex;\n  color: #222831;\n  width: 100%;\n  margin: 60px 0;\n  justify-content: center;\n`;\n\nexport default PagesContainer;\n","import styled from \"styled-components\";\n\nconst Page = styled.div`\n  font-size: 15px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 35px;\n  height: 35px;\n  color: #222831;\n  padding: 10px;\n  cursor: pointer;\n  &:hover {\n    color: #8bcdcd;\n    border: 1px solid #8bcdcd;\n  }\n`;\n\nexport default Page;\n","import styled from \"styled-components\";\n\nconst Loading = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border: 10px solid #f3f3f3;\n  border-top: 10px solid #8bcdcd;\n  border-radius: 50%;\n  width: 70px;\n  height: 70px;\n  animation: spin 0.5s linear infinite;\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nexport default Loading;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledFooter = styled.footer`\n  width: 100%;\n  height: 40px;\n  background: linear-gradient(35deg, #f8f18d, #e1f5c4);\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 0;\n`;\n\nfunction Footer() {\n  return (\n    <StyledFooter>\n      Copyright © {new Date().getFullYear()} Hazel's Blog All Rights Reserved.\n    </StyledFooter>\n  );\n}\n\nexport default Footer;\n","export function getPreText(body) {\n  if (body.length <= 300) return body;\n  return body.slice(0, 300);\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Post from \"../../components/Post\";\nimport SectionTitle from \"../../components/SectionTitle\";\nimport { getPosts } from \"../../WebAPI\";\nimport SectionWrapper from \"../../components/SectionWrapper\";\nimport PagesContainer from \"../../Pagination/PagesContainer\";\nimport Page from \"../../Pagination/Page\";\nimport { useParams, Link, useLocation } from \"react-router-dom\";\nimport { nanoid } from \"nanoid\";\nimport Loading from \"../../components/Loading/loading\";\nimport Footer from \"../../components/Footer\";\nimport { getPreText } from \"../../utils\";\nimport { POST_PER_PAGE as perPage } from \"../../constants\";\n\nfunction HomePage() {\n  const { pageNum } = useParams();\n  const { pathname } = useLocation();\n  const [showPosts, setShowPosts] = useState([]);\n  const [isLoadingPosts, setIsLoadingPosts] = useState(true);\n  const totalPostCount = useRef(0);\n\n  useEffect(() => {\n    getPosts(perPage, pageNum)\n      .then((res) => {\n        totalPostCount.current = res.headers.get(\"x-total-count\");\n        return res.json();\n      })\n      .then((posts) => {\n        setShowPosts(posts);\n        setIsLoadingPosts(false);\n      });\n  }, [pageNum]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return (\n    <>\n      <SectionWrapper>\n        <SectionTitle title=\"最新文章\" />\n        {isLoadingPosts ? (\n          <Loading />\n        ) : (\n          <>\n            {showPosts.map((post) => {\n              return (\n                <Post\n                  key={post.id}\n                  imgSrc=\"https://images.unsplash.com/photo-1585366119957-e9730b6d0f60?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1051&q=80\"\n                  title={post.title}\n                  linkPath={post.id}\n                  category=\"單純mur-mur\"\n                  author={post.userId.toString()}\n                  createdAt={new Date(post.createdAt).toLocaleString()}\n                  preText={`${getPreText(post.body)} ...`}\n                  edit={false}\n                />\n              );\n            })}\n            <PagesContainer>\n              {new Array(Math.ceil(totalPostCount.current / perPage))\n                .fill(null)\n                .map((item, index) => (\n                  <Link key={nanoid()} to={`/page/${index + 1}`}>\n                    <Page\n                      style={\n                        Number(pageNum) === index + 1\n                          ? { background: \"#8bcdcd\", color: \"white\" }\n                          : {}\n                      }\n                      children={index + 1}\n                    />\n                  </Link>\n                ))}\n            </PagesContainer>\n          </>\n        )}\n      </SectionWrapper>\n      {!isLoadingPosts && <Footer />}\n    </>\n  );\n}\n\nexport default HomePage;\n","export const POST_PER_PAGE = 5;\n","import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\nexport const GetUserContext = createContext(null);\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { login, getMe } from \"../../WebAPI\";\nimport { AuthContext } from \"../../context\";\nimport SectionWrapper from \"../../components/SectionWrapper\";\nimport Footer from \"../../components/Footer\";\n\nconst LoginWrapper = styled(SectionWrapper)`\n  padding: 5% 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst LoginContainer = styled.form`\n  border: solid 1px #222831;\n  width: 30%;\n  padding: 30px 40px 40px 40px;\n  text-align: center;\n`;\n\nconst LoginTitle = styled.h1`\n  color: #222831;\n`;\n\nconst LoginInputContainer = styled.div`\n  text-align: left;\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n`;\n\nconst LoginLabel = styled.label`\n  color: #222831;\n  margin-bottom: 3px;\n`;\n\nconst LoginInput = styled.input``;\n\nconst LoginBtn = styled.button`\n  margin-top: 40px;\n  color: white;\n  background: #222831;\n  border: solid 1px #222831;\n  padding: 10px 20px;\n  font-weight: bold;\n  &:hover {\n    color: white;\n    background: #4d5a6e;\n    border: solid 1px #4d5a6e;\n    cursor: pointer;\n  }\n`;\n\nconst AlertMsg = styled.div`\n  word-break: break-word;\n  font-size: 14px;\n  color: darkred;\n  font-weight: bold;\n  margin-top: 20px;\n`;\n\nexport default function LoginPage() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(null);\n  const [isLoading, setIsloading] = useState(false);\n  const { setUser } = useContext(AuthContext);\n\n  let history = useHistory();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setErrorMsg(null);\n    if (isLoading) return;\n    setIsloading(true);\n    login(username, password).then((data) => {\n      if (data.ok === 0) {\n        setErrorMsg(data.message);\n        setIsloading(false);\n        return;\n      }\n      const token = data.token;\n      localStorage.setItem(\"token\", token);\n      getMe().then((res) => {\n        if (res.ok !== 1) {\n          setErrorMsg(res.toString());\n          setIsloading(false);\n          return;\n        }\n        setUser(res.data);\n        setIsloading(false);\n        history.push(\"/\");\n      });\n    });\n  }\n\n  return (\n    <>\n      <LoginWrapper>\n        <LoginContainer onSubmit={handleSubmit}>\n          <LoginTitle>Log In</LoginTitle>\n          <LoginInputContainer>\n            <LoginLabel htmlFor=\"username\">USERNAME</LoginLabel>\n            <LoginInput\n              onChange={(e) => setUsername(e.target.value)}\n              id=\"username\"\n            />\n          </LoginInputContainer>\n          <LoginInputContainer>\n            <LoginLabel htmlFor=\"password\">PASSWORD</LoginLabel>\n            <LoginInput\n              type=\"password\"\n              onChange={(e) => setPassword(e.target.value)}\n              id=\"password\"\n            />\n          </LoginInputContainer>\n          <LoginBtn>Log in</LoginBtn>\n          {errorMsg && <AlertMsg>哎呀！發生了一點錯誤：{errorMsg}</AlertMsg>}\n        </LoginContainer>\n      </LoginWrapper>\n      <Footer />\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/hazel.2f711b2f.jpg\";","import React from \"react\";\nimport styled from \"styled-components\";\nimport SectionWrapper from \"../../components/SectionWrapper\";\nimport SectionTitle from \"../../components/SectionTitle\";\nimport hazel from \"../../img/hazel.jpg\";\nimport Footer from \"../../components/Footer\";\n\nconst AboutMeWrapper = styled(SectionWrapper)`\n  height: 100%;\n`;\n\nconst AboutMeContainer = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Avatar = styled.div`\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  background: url(${hazel}) no-repeat center / 200px;\n  margin-right: 40px;\n`;\n\nconst TalkBubble = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  border: 1px solid #222831;\n  width: 60%;\n  border-radius: 50px;\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  font-weight: bold;\n  font-size: 30px;\n  padding: 30px;\n`;\n\nexport default function AboutPage() {\n  return (\n    <>\n      <AboutMeWrapper>\n        <SectionTitle title=\"關於我\" />\n        <AboutMeContainer>\n          <Avatar imgUrl={hazel} />\n          <TalkBubble>\n            哈囉我是 Hazel！\n            <br />\n            恭喜你已被好運小鵝拜訪～\n            <br />\n            接下來的幾天內會有好事降臨呦 ✧*｡٩(ˊᗜˋ*)و✧*｡\n          </TalkBubble>\n        </AboutMeContainer>\n      </AboutMeWrapper>\n      <Footer />\n    </>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { register } from \"../../WebAPI\";\nimport { AuthContext } from \"../../context\";\nimport { getMe } from \"../../WebAPI\";\nimport SectionWrapper from \"../../components/SectionWrapper\";\nimport Footer from \"../../components/Footer\";\n\nconst RegisterWrapper = styled(SectionWrapper)`\n  padding: 5% 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst RegisterContainer = styled.form`\n  border: solid 1px #222831;\n  width: 30%;\n  padding: 30px 40px 40px 40px;\n  text-align: center;\n`;\n\nconst RegisterTitle = styled.h1`\n  color: #222831;\n`;\n\nconst RegisterInputContainer = styled.div`\n  text-align: left;\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n`;\n\nconst RegisterLabel = styled.label`\n  color: #222831;\n  margin-bottom: 3px;\n`;\n\nconst RegisterInput = styled.input``;\n\nconst RegisterBtn = styled.button`\n  margin-top: 40px;\n  color: white;\n  background: #222831;\n  border: solid 1px #222831;\n  padding: 10px 20px;\n  font-weight: bold;\n  &:hover {\n    color: white;\n    background: #4d5a6e;\n    border: solid 1px #4d5a6e;\n    cursor: pointer;\n  }\n`;\n\nconst AlertMsg = styled.div`\n  word-break: break-word;\n  font-size: 14px;\n  color: darkred;\n  font-weight: bold;\n  margin-top: 20px;\n`;\n\nexport default function RegisterPage() {\n  const [nickname, setNickname] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(null);\n  const [isLoading, setIsloading] = useState(false);\n  const { setUser } = useContext(AuthContext);\n\n  let history = useHistory();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setErrorMsg(null);\n    if (isLoading) return;\n    setIsloading(true);\n    register(nickname, username, password).then((data) => {\n      if (data.ok === 0) {\n        setErrorMsg(data.message);\n        setIsloading(false);\n        return;\n      }\n      const token = data.token;\n      localStorage.setItem(\"token\", token);\n      getMe().then((res) => {\n        if (res.ok !== 1) {\n          setErrorMsg(res.toString());\n          setIsloading(false);\n          return;\n        }\n        setUser(res.data);\n        history.push(\"/\");\n        setIsloading(false);\n      });\n    });\n  }\n\n  return (\n    <>\n      <RegisterWrapper>\n        <RegisterContainer onSubmit={handleSubmit}>\n          <RegisterTitle>Register</RegisterTitle>\n          <RegisterInputContainer>\n            <RegisterLabel htmlFor=\"nickname\">NICKNAME</RegisterLabel>\n            <RegisterInput\n              onChange={(e) => setNickname(e.target.value)}\n              id=\"nickname\"\n            />\n          </RegisterInputContainer>\n          <RegisterInputContainer>\n            <RegisterLabel htmlFor=\"username\">USERNAME</RegisterLabel>\n            <RegisterInput\n              onChange={(e) => setUsername(e.target.value)}\n              id=\"username\"\n            />\n          </RegisterInputContainer>\n          <RegisterInputContainer>\n            <RegisterLabel htmlFor=\"password\">PASSWORD</RegisterLabel>\n            <RegisterInput\n              type=\"password\"\n              onChange={(e) => setPassword(e.target.value)}\n              id=\"password\"\n            />\n          </RegisterInputContainer>\n          <RegisterBtn>Register</RegisterBtn>\n          {errorMsg && <AlertMsg>哎呀！發生了一點錯誤：{errorMsg}</AlertMsg>}\n        </RegisterContainer>\n      </RegisterWrapper>\n      <Footer />\n    </>\n  );\n}\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport Post from \"../../components/Post\";\nimport SectionTitle from \"../../components/SectionTitle\";\nimport SectionWrapper from \"../../components/SectionWrapper\";\nimport { getMyPosts } from \"../../WebAPI\";\nimport { AuthContext, GetUserContext } from \"../../context\";\nimport { Link, useParams, useLocation, useHistory } from \"react-router-dom\";\nimport { nanoid } from \"nanoid\";\nimport PagesContainer from \"../../Pagination/PagesContainer\";\nimport Page from \"../../Pagination/Page\";\nimport Loading from \"../../components/Loading/loading\";\nimport Footer from \"../../components/Footer\";\nimport { getPreText } from \"../../utils\";\nimport { POST_PER_PAGE as perPage } from \"../../constants\";\n\nconst ListPageWrapper = styled(SectionWrapper)`\n  padding: 40px 100px;\n`;\n\nfunction ListPage() {\n  const { user } = useContext(AuthContext);\n  const { isGettingUser } = useContext(GetUserContext);\n  const [showPosts, setShowPosts] = useState([]);\n  const [isLoadingPosts, setIsLoadingPosts] = useState(true);\n  const { pageNum } = useParams();\n  const { pathname } = useLocation();\n  const totalPostCount = useRef(0);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!isGettingUser && !user) {\n      alert(\"登入後才能使用管理文章功能喔！\");\n      history.push(\"/\");\n    }\n  }, [history, isGettingUser, user]);\n\n  useEffect(() => {\n    if (user) {\n      getMyPosts(user.id, perPage, pageNum)\n        .then((res) => {\n          totalPostCount.current = res.headers.get(\"x-total-count\");\n          return res.json();\n        })\n        .then((posts) => {\n          setShowPosts(posts);\n          setIsLoadingPosts(false);\n        });\n    }\n  }, [pageNum, user]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return (\n    <>\n      {user && (\n        <>\n          <ListPageWrapper>\n            <SectionTitle title=\"我的文章列表\" />\n            {isLoadingPosts ? (\n              <Loading />\n            ) : (\n              <>\n                {showPosts.map((post) => {\n                  return (\n                    <Post\n                      key={post.id}\n                      imgSrc=\"https://images.unsplash.com/photo-1585366119957-e9730b6d0f60?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1051&q=80\"\n                      title={post.title}\n                      linkPath={post.id}\n                      category=\"單純mur-mur\"\n                      author={post.userId.toString()}\n                      createdAt={new Date(post.createdAt).toLocaleString()}\n                      preText={`${getPreText(post.body)} ...`}\n                      edit={true}\n                    />\n                  );\n                })}\n                <PagesContainer>\n                  {new Array(Math.ceil(totalPostCount.current / perPage))\n                    .fill(null)\n                    .map((item, index) => (\n                      <Link key={nanoid()} to={`/list/page/${index + 1}`}>\n                        <Page\n                          style={\n                            Number(pageNum) === index + 1\n                              ? { background: \"#8bcdcd\", color: \"white\" }\n                              : {}\n                          }\n                          children={index + 1}\n                        />\n                      </Link>\n                    ))}\n                </PagesContainer>\n              </>\n            )}\n          </ListPageWrapper>\n          <Footer />\n        </>\n      )}\n    </>\n  );\n}\n\nexport default ListPage;\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PostTitle from \"../../components/PostTitle\";\nimport PostInfo from \"../../components/PostInfo\";\nimport { getOnePost } from \"../../WebAPI\";\nimport { useParams } from \"react-router\";\nimport Footer from \"../../components/Footer\";\n\nconst PostWrapper = styled.section`\n  padding: 80px 20%;\n`;\n\nconst PostContent = styled.div`\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  font-size: 15px;\n`;\n\nconst PostTitleInPostPage = styled(PostTitle)`\n  display: block;\n  font-size: 36px;\n  margin-bottom: 20px;\n  line-height: 40px;\n`;\n\nconst PostContentInPostPage = styled(PostContent)`\n  font-size: 20px;\n  margin-top: 20px;\n`;\n\nfunction PostPage() {\n  const [post, setPost] = useState();\n  const { id } = useParams();\n  useEffect(() => {\n    getOnePost(id).then((post) => setPost(post));\n  }, [id]);\n  return (\n    <>\n      {post && (\n        <>\n          <PostWrapper>\n            <PostTitleInPostPage>{post[0].title}</PostTitleInPostPage>\n            <PostInfo\n              category={post[0].category ? post[0].category : \"單純mur-mur\"}\n              author={post[0].userId}\n              createdAt={new Date(post[0].createdAt).toLocaleString()}\n            />\n            <PostContentInPostPage>{post[0].body}</PostContentInPostPage>\n          </PostWrapper>\n        </>\n      )}\n      <Footer />\n    </>\n  );\n}\n\nexport default PostPage;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport SectionWrapper from \"../../components/SectionWrapper\";\nimport { publishPost } from \"../../WebAPI\";\nimport { useHistory } from \"react-router\";\nimport Footer from \"../../components/Footer\";\nimport { AuthContext, GetUserContext } from \"../../context\";\n\nconst EditWrapper = styled(SectionWrapper)`\n  padding: 80px 300px 150px 300px;\n`;\n\nconst EditContainer = styled.div`\n  border: solid 1px #818285;\n  padding: 30px 30px 70px 30px;\n  position: relative;\n`;\n\nconst EditTitle = styled.h1`\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  font-weight: bold;\n  margin-bottom: 30px;\n`;\n\nconst EditForm = styled.form``;\n\nconst EditInputBlock = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 30px;\n`;\n\nconst EditInput = styled.input`\n  border: solid 1px #818285;\n  padding: 3px;\n  height: 30px;\n  width: 100%;\n`;\n\nconst EditTextArea = styled.textarea`\n  border: solid 1px #818285;\n  padding: 3px;\n  min-height: 400px;\n  width: 100%;\n`;\n\nconst EditSubmitBtn = styled.button`\n  position: absolute;\n  right: 30px;\n  bottom: 30px;\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  background: white;\n  border: solid 1px #818285;\n  padding: 5px 25px;\n  cursor: pointer;\n  &:hover {\n    background: #222831;\n    color: white;\n  }\n`;\n\nconst AlertMsg = styled.div`\n  word-break: break-word;\n  font-size: 14px;\n  color: darkred;\n  font-weight: bold;\n  margin-bottom: 10px;\n  text-align: right;\n`;\n\nexport default function WritePage() {\n  const { user } = useContext(AuthContext);\n  const { isGettingUser } = useContext(GetUserContext);\n  const [post, setPost] = useState({\n    title: \"\",\n    body: \"\",\n  });\n  const [errMsg, setErrMsg] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!isGettingUser && !user) {\n      alert(\"登入後才能使用發布文章功能喔！\");\n      history.push(\"/\");\n    }\n  }, [history, isGettingUser, user]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (isLoading) return;\n    setIsLoading(true);\n    if (post.title === \"\" || post.body === \"\") {\n      setErrMsg(\"文章標題或文章內容未填寫，請再檢查一次\");\n      setIsLoading(false);\n      return;\n    }\n    publishPost(post.title, post.body).then((data) => {\n      if (data.ok === 0) {\n        setErrMsg(`發生了一點錯誤：${data.message}`);\n        setIsLoading(false);\n        return;\n      }\n      setIsLoading(false);\n      history.push(\"/\");\n    });\n  }\n\n  function handleChange(e) {\n    errMsg && setErrMsg();\n    const { value, name } = e.target;\n    if (name === \"title\") {\n      setPost({\n        ...post,\n        title: value,\n      });\n      return;\n    }\n    setPost({\n      ...post,\n      body: value,\n    });\n  }\n\n  return (\n    <>\n      {user && (\n        <>\n          <EditWrapper>\n            <EditContainer>\n              <EditTitle>發表文章</EditTitle>\n              <EditForm>\n                <EditInputBlock>\n                  <EditInput\n                    onChange={handleChange}\n                    name=\"title\"\n                    placeholder=\"請輸入文章標題\"\n                  />\n                </EditInputBlock>\n                <EditInputBlock>\n                  <EditTextArea\n                    onChange={handleChange}\n                    name=\"content\"\n                    placeholder=\"請輸入文章內容\"\n                  />\n                </EditInputBlock>\n              </EditForm>\n              {errMsg && <AlertMsg>{errMsg}</AlertMsg>}\n              <EditSubmitBtn onClick={handleSubmit}>送出文章</EditSubmitBtn>\n            </EditContainer>\n          </EditWrapper>\n          <Footer />\n        </>\n      )}\n    </>\n  );\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { AuthContext } from \"../../context\";\nimport { GetUserContext } from \"../../components/App\";\n\nconst HeaderContainer = styled.header`\n  height: 54px;\n  padding: 35px 100px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst NavBarPartContainer = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Logo = styled(Link)`\n  margin: 0;\n  font-family: \"Open Sans Condensed\", sans-serif;\n  font-size: 40px;\n  font-weight: bold;\n  margin-right: 45px;\n  color: #222831;\n  cursor: pointer;\n`;\n\nconst NavBarLink = styled(Link)`\n  text-decoration: none;\n  color: #484e57;\n  cursor: pointer;\n  font-family: \"Noto Sans TC\", sans-serif;\n  & + & {\n    margin-left: 45px;\n  }\n`;\n\nconst isNowPathStyle = {\n  borderBottom: \"2px solid #f8f18d\",\n};\n\nfunction Header() {\n  const { user, setUser } = useContext(AuthContext);\n  const { isGettingUser } = useContext(GetUserContext);\n  const [nowPath, setNowPath] = useState(\"/\");\n  const location = useLocation();\n  const history = useHistory();\n\n  useEffect(() => {\n    setNowPath(location.pathname);\n  }, [location]);\n\n  function handleLogout() {\n    setUser(null);\n    localStorage.setItem(\"token\", \"\");\n    if (nowPath !== \"/\") {\n      history.push(\"/\");\n    }\n  }\n\n  return (\n    <HeaderContainer>\n      <NavBarPartContainer>\n        <Logo to=\"/\">Hazel's Blog</Logo>\n        <NavBarLink\n          style={nowPath === \"/\" ? isNowPathStyle : {}}\n          to=\"/\"\n          children=\"首頁\"\n        />\n        <NavBarLink\n          style={nowPath === \"/about\" ? isNowPathStyle : {}}\n          to=\"/about\"\n          children=\"關於我\"\n        />\n      </NavBarPartContainer>\n      {!isGettingUser && (\n        <NavBarPartContainer>\n          {!user ? (\n            <>\n              <NavBarLink\n                style={nowPath === \"/register\" ? isNowPathStyle : {}}\n                to=\"/register\"\n                children=\"註冊\"\n              />\n              <NavBarLink\n                style={nowPath === \"/login\" ? isNowPathStyle : {}}\n                to=\"/login\"\n                children=\"登入\"\n              />\n            </>\n          ) : (\n            <>\n              <NavBarLink\n                style={nowPath === \"/list\" ? isNowPathStyle : {}}\n                to=\"/list\"\n                children=\"管理我的文章\"\n              />\n              <NavBarLink\n                style={nowPath === \"/write\" ? isNowPathStyle : {}}\n                to=\"/write\"\n                children=\"發布文章\"\n              />\n              <NavBarLink to=\"/\" onClick={handleLogout} children=\"登出\" />\n            </>\n          )}\n        </NavBarPartContainer>\n      )}\n    </HeaderContainer>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst BannerContainer = styled.div`\n  width: 100%;\n  height: 150px;\n  background: linear-gradient(35deg, #f8f18d, #e1f5c4);\n  position: relative;\n`;\n\nconst BannerInfoContainer = styled.div`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n`;\n\nconst BannerTitle = styled.h1`\n  font-family: \"Noto Sans TC\", sans-serif;\n  font-size: 25px;\n  color: #222831;\n`;\n\nconst BannerSubTitle = styled.p`\n  color: #222831;\n  margin-top: 10px;\n`;\n\nfunction Banner() {\n  return (\n    <BannerContainer>\n      <BannerInfoContainer>\n        <BannerTitle children=\"純粹靠北之地\" />\n        <BannerSubTitle children=\"WELCOME TO MY BLOG\" />\n      </BannerInfoContainer>\n    </BannerContainer>\n  );\n}\n\nexport default Banner;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport SectionWrapper from \"../../components/SectionWrapper\";\nimport { editPost, getOnePost } from \"../../WebAPI\";\nimport { useHistory, useParams } from \"react-router\";\nimport Footer from \"../../components/Footer\";\nimport { AuthContext, GetUserContext } from \"../../context\";\nconst EditWrapper = styled(SectionWrapper)`\n  padding: 80px 300px 150px 300px;\n`;\n\nconst EditContainer = styled.div`\n  border: solid 1px #818285;\n  padding: 30px 30px 70px 30px;\n  position: relative;\n`;\n\nconst EditTitle = styled.h1`\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  font-weight: bold;\n  margin-bottom: 30px;\n`;\n\nconst EditForm = styled.form``;\n\nconst EditInputBlock = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 30px;\n`;\n\nconst EditInput = styled.input`\n  border: solid 1px #818285;\n  padding: 3px;\n  height: 30px;\n  width: 100%;\n`;\n\nconst EditTextArea = styled.textarea`\n  border: solid 1px #818285;\n  padding: 3px;\n  min-height: 400px;\n  width: 100%;\n`;\n\nconst EditSubmitBtn = styled.button`\n  position: absolute;\n  right: 30px;\n  bottom: 30px;\n  color: #222831;\n  font-family: \"Noto Sans TC\", sans-serif;\n  background: white;\n  border: solid 1px #818285;\n  padding: 5px 25px;\n  cursor: pointer;\n  &:hover {\n    background: #222831;\n    color: white;\n  }\n`;\n\nconst AlertMsg = styled.div`\n  word-break: break-word;\n  font-size: 14px;\n  color: darkred;\n  font-weight: bold;\n  margin-bottom: 10px;\n  text-align: right;\n`;\n\nexport default function EditPage() {\n  const [post, setPost] = useState(null);\n  const [errMsg, setErrMsg] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n  const { id } = useParams();\n  const { isGettingUser } = useContext(GetUserContext);\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    if (!isGettingUser && !user) {\n      alert(\"登入後才能使用編輯文章功能喔！\");\n      history.push(\"/\");\n    }\n  }, [history, isGettingUser, user]);\n\n  useEffect(() => {\n    getOnePost(id).then((previousPost) => {\n      setPost(previousPost[0]);\n    });\n  }, [id]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (isLoading) return;\n    setIsLoading(true);\n    if (post.title === \"\" || post.body === \"\") {\n      setErrMsg(\"文章標題或文章內容未填寫，請再檢查一次\");\n      setIsLoading(false);\n      return;\n    }\n    editPost(id, post.title, post.body).then((data) => {\n      if (data.ok === 0) {\n        setErrMsg(`發生了一點錯誤：${data.message}`);\n        setIsLoading(false);\n        return;\n      }\n      setIsLoading(false);\n      history.push(\"/list\");\n    });\n  }\n\n  function handleChange(e) {\n    errMsg && setErrMsg();\n    const { value, name } = e.target;\n    if (name === \"title\") {\n      setPost({\n        ...post,\n        title: value,\n      });\n      return;\n    }\n    setPost({\n      ...post,\n      body: value,\n    });\n  }\n\n  return (\n    <>\n      {user && post && (\n        <>\n          <EditWrapper>\n            <EditContainer>\n              <EditTitle>編輯文章</EditTitle>\n              <EditForm>\n                <EditInputBlock>\n                  <EditInput\n                    defaultValue={post.title}\n                    onChange={handleChange}\n                    name=\"title\"\n                    placeholder=\"請輸入文章標題\"\n                  />\n                </EditInputBlock>\n                <EditInputBlock>\n                  <EditTextArea\n                    defaultValue={post.body}\n                    onChange={handleChange}\n                    name=\"content\"\n                    placeholder=\"請輸入文章內容\"\n                  />\n                </EditInputBlock>\n              </EditForm>\n              {errMsg && <AlertMsg>{errMsg}</AlertMsg>}\n              <EditSubmitBtn onClick={handleSubmit}>送出文章</EditSubmitBtn>\n            </EditContainer>\n          </EditWrapper>\n          <Footer />\n        </>\n      )}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./style.css\";\nimport HomePage from \"../../pages/Homepage\";\nimport LoginPage from \"../../pages/LoginPage\";\nimport AboutPage from \"../../pages/AboutPage\";\nimport RegisterPage from \"../../pages/RegisterPage\";\nimport ListPage from \"../../pages/ListPage\";\nimport PostPage from \"../../pages/PostPage\";\nimport WritePage from \"../../pages/WritePage\";\nimport Header from \"../Header\";\nimport { AuthContext, GetUserContext } from \"../../context\";\nimport { getMe } from \"../../WebAPI\";\nimport Banner from \"../Banner\";\nimport EditPage from \"../../pages/EditPage\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isGettingUser, setIsGettingUser] = useState(true);\n\n  useEffect(() => {\n    if (!localStorage.getItem(\"token\")) {\n      setIsGettingUser(false);\n      return;\n    }\n\n    getMe().then((res) => {\n      if (res.ok !== 1) {\n        localStorage.setItem(\"token\", \"\");\n        setIsGettingUser(false);\n        return;\n      }\n      setUser(res.data);\n      setIsGettingUser(false);\n    });\n  }, []);\n\n  return (\n    <>\n      <AuthContext.Provider value={{ user, setUser }}>\n        <GetUserContext.Provider value={{ isGettingUser }}>\n          <Router basename={process.env.PUBLIC_URL}>\n            <Header />\n            <Banner />\n            <Switch>\n              <Route exact path=\"/\">\n                <HomePage />\n              </Route>\n              <Route path=\"/page/:pageNum\">\n                <HomePage />\n              </Route>\n              <Route path=\"/about\">\n                <AboutPage />\n              </Route>\n              <Route exact path=\"/list\">\n                <ListPage />\n              </Route>\n              <Route path=\"/list/page/:pageNum\">\n                <ListPage />\n              </Route>\n              <Route path=\"/Register\">\n                <RegisterPage />\n              </Route>\n              <Route path=\"/login\">\n                <LoginPage />\n              </Route>\n              <Route path=\"/post/:id\">\n                <PostPage />\n              </Route>\n              <Route exact path=\"/write\">\n                <WritePage />\n              </Route>\n              <Route path=\"/edit/:id\">\n                <EditPage />\n              </Route>\n            </Switch>\n          </Router>\n        </GetUserContext.Provider>\n      </AuthContext.Provider>\n    </>\n  );\n}\n\nexport default App;\nexport { GetUserContext };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./style.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}